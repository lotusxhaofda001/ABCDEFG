
const $ = Env("全民运动会")
const notify = $.isNode() ? require('./sendNotify') : '';
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const https = require('https');
const fs = require('fs/promises');
const { R_OK } = require('fs').constants;
const vm = require('vm');
let smashUtils;
let cookiesArr = [];
$.cookie = '';

var _0xodu='jsjiami.com.v6',_0x4dd7=[_0xodu,'wrlUbw3Dpw==','BhF4MVM=','bXUEdsOF','UjLCuy3Cgw==','wqBAFwl3','w5PDh8OYw7TDnQ==','FMKkCxdsw4Eb','KsO9w6NK','wrPDjiATRA==','NcKlai/Ckw==','wpZeES/DrQ==','f3HDp3vCvcKf','a8OFw7/Ck0AnYQ8Dw6I6w7LCoxrDqFTDsGoVwoTDg8KNeEJHw6IHw4nDosO+w5LDkjpcw77Cvw==','FsKsLsOvGsOOEiYn','f3HDpnbCvcKIZg==','w4/DqT/CnWE=','wprCosKawqzDhw==','wpnCrcKPwrHDlg==','wrhMGA==','NcK3DRk=','w5kzw6sb','w587w6U5wpPCrcO/','RkjCgQ==','55ee5Lug5oOO56+4','5Lia5LmF5Lip6LS35Y+35p2N5o6W5Lytwo83M3JTTU9kEgJjw7jls5TphrvnuZXmnYvohb7mnL3ohK3lur7nm73lipLliZHnoYZ+','A8KEWybCjg==','PcKzFx9qwpM=','woMLCMKzwr9y','w4NKw6LCtsOu','w5Q8w7sfwoQ=','XsKMQkJoBjTDk8KfECR/QW9B','w47DmW7DpDY=','VsKtbUBL','WXQSWsOdFg==','OD/DpcOQw44=','5p6c5Yma5a+15ouC5pSo6Zat5q+S776Q5puo5LqN5bG6wr3ChBrCqsOlw6xvIHrCpAzli4blhbvli7boo7kC','w4fCnsKAEMKwwq/Dvl4=','fC3CnwLCvsKfw595wpA=','MMKsM8OKEw==','w7HDoz/Cg0g=','HcK7XiHCtQ==','XhjCkhrCsw==','aDTCiQTCgw==','w7XDvMOVw4HDgQ==','ZsKRw63DlMKS','wogLEsKwwqpuUQ==','w7BqF8OAwoo=','w5o3w6sewp3CvcO7','ZGXDgl9gNk4=','T8Kvw6PDs8Kz','XE3ChcK+wrET','w4nCpMKnalvDlQ==','NMO3w6dtOsOswr3DsMO2R8KEBG4pfg==','w5TDt1kVwp8=','w7rDr8OWw5zChQ==','bQjCnSjClQ==','Y8OVw6bCo1wvfAQJw6ljw7jCvDPDrg==','w7rDmMOlwrTDscKww7HDjHrCqcOlM8KteUw=','UMORXk/CkA==','BcOJwrfCocKRw61Uw4zCoxYhw4vCisOsMw==','w5TDoMOKw5/Dv3PDtsKkw5fCq0gwwqzDs8Oh','VMKIQXA=','w5k/woYew4U=','55Wy5Lq/5oOM56+S','w6tqd8Ktw7w=','Q0nCgm5d','w6XDlcOqwqHDoMKb','w51TFsOswoY=','wpLCswB5IcOBejMxw4fCoh0Vw7TCmQ==','wpweCsK9wr8=','w5nDsxXCgF8=','L0QNwowq','Z8OEw5XCpFU=','w5o3w6svwqjCisOSwo3CmnbDoA==','w5fDrXkkwoY=','LCLDhMOFw6F3S3ZSfMOi','woAlAw==','5p+W5Yum5a+/5oqO5pa/6ZWU5q69772a5puw5Lql5bOAKy7Dl8KaYSPDkcOhRQsa5Yq95YWw5Yi56KKUwp4=','w4V+w7vCo8Oj','w6rDr0QdwrM=','wrdMGx4=','wqTCri1tMQ==','wp3ChMKbwrPDug==','T8O9wrI=','DsKLSyI=','UsKAT1JvAyM=','B8ODwqfCt8KLw74=','OHE4w6jDog==','w7l/FcOuwr8=','bcKmw6HDug==','ZMOew7XClUw=','w4UeDw/CsD4Ow7oT','TmXDslF1','BF08wooG','w4TDg8OwwrHDjg==','44GF5o+Q56Wk44Ku6K2s5Ya/6I+s5Y6c5Luo5Lm66LSn5Y+G5Lqcw7jCssOSVz3Cgw7nmZ7mjpLkvZbnlrNeXnczaW7nmofku4LkuLjnrrXliKLojpbljLc=','w6HDhMOwwrbDp8OJwrHCh33Cv8OUNsOCZhAGw58Uw4NABcKrw6PCs8KYw5V9OFxPwqtDMjfDpTNKYiYQw5HCh08=','L8OIw6l7MQ==','wrHCuQ1DJcOMaXlHwobDtlhOw43Comg+w5rDhxFPPE1ADsKVw4RGZ8K0w6PDq8K9wp/ChnjCpMKaWcOXX8O6esK1wot8w51peivCslDDrsKWw6XCi2JTLsKzUMOcwoIIHEQRwqTCjkrCnMKsKwjCusO/w4vDikoxwoHDqG3Dj8KZQWTDv8Klw5U0X1chEhjCgEAbw4QFd37CtWtSw7hGEQjCiW3DhB/CuhvDrcO8VsOGUzzCjsKzD8Kjw5h9wrzCk2jDvsOYTlXCp8O9BU7CgFXCmnfDvjDDucKnHg5FNcK6TsKTwqg8','w4vCp8KkMcKS','YcOxwrdRw4E=','wp8PFMKnwq4=','YcKzw6HDq8Kuw7/DpC1ZT2vCiMK4wq3Cg8KFw5Mtw6tNwpzCo8ObcAswTcOpc0AIwp4Yw4rCt34owr0tw54sAWPCvcKLRcOwwr4gw7bCp8OrCMOJVMK1w6sIwqpCOMKaQxDCocK4P8KDw6hHeMKdwpzDo2k=','EMKiRSLClA==','FhJZHFg=','YcKAwrw=','woIrCcKq','w6rDh8Ozwr7Dpg==','S8KZwpLDpQ8=','wrNdMB3DrA==','A00Vw77Diw==','a3/DoWQ=','w41WYsKGw6Y=','w4zDmcOgwrLDvA==','woXCo8Ka','5Y6R5YqO5Ym9','AFgJwocQ','w5oyFzzCtg==','F8KjSD7Cug==','B8ODwqc=','wo3CrcKJwqM=','TkdiwqNIc0w=','NcKBw5AHFw==','w600w5XCoMODw4c=','w6t3XcKnw6DCtA==','UXHCjMK1w4tACgrCusKMwrnDg08=','acKdwq0=','KcK+N1XCoWt0wqfCr8OFwr3DtMK8','w444wp4Iw7NH','IFQNwpI=','TSPCng3CuMKX','w5LDnSfClA==','PcO3w6RaM8O5wq4=','wol4Fy8=','AMKOTyrCmMK3N2hKw6cLw5sYN8OVMlk0ERxPY8OZ','w543w7YW','TUPChMKxwrcb','wr1QMRR4Cg==','w50PBBU=','w6dqZQ==','acOWwopdw5XDisO2w5I=','wpDCuRA=','TULCkm9Ew7Yk','WFrCvMKLw7FgEhE=','AF4LwpUhwqTDmUsC','eMKcwpTDvw4=','wq5dMg==','DcOFwqzChsKcw74=','UcOLTlrCm3XDqMOEQcKTwrgXwqnDoV3CmAnCrcO4I0MZP8OOw4l+UTVSFcOnG0p3EsKCwolfDcOFwqsVAA==','IyHDig==','w4HCrMKmew==','BsKPUSTCgsK4','w5UFEg3Ctzw=','YGgQbcOhBUVc','U8KGWnppAg==','OcO9w79VO8Oo','LlAQwp0g','wqpSJgvDsQ==','w5TDjlYGwoU=','AcKCw4UcPWjDr3k=','A8Otwr/CscO3w6/lv4vlp4njgL7kupbkuI3ot4bljKY=','woYAAsKxwrM=','wpLCvxRBB8OBZTM=','f1TCg3lrw6MoDQ==','QMOAFWnDnMOa','5LiY5Lih6LWU5Y2+','w4TDt8OLw5TCqQ==','wrDorbLphbDmlLznm6zlvYfojLPljJfCnsKsWCHCr8OQwrAUwrnDhiErCsKTw7fDuXc1wq/Dm8KlwoTChsKnw6jDtkAjHMOPw7gZBMKEw5dawpbDtsO9RMKRw4VXTA==','w6LDrCHCrHo=','wqLDmw8Ga8KO','WULCiG9rw60xAQDCqg==','wqnCpRJYB8OBZTM=','5Lu45Lut6LaG5Y6Z','O8KJYB3Cgw==','wrodA8KmwoV7XQU=','w7fDkiHCv8OA','JMKCLMOeOg==','wo8rEMKswqk=','wrpCEh4=','w5nDhmzDqA==','AsKKGGzCm01HwozCh8OtwpbClcKCKyXDilvChBvDv8OsUsKIw6/DtcKtcsKlwqspwpFkwog=','VGsFc8OGB0lNcF3CmVduBcOoTRV1eMO6IEBSGkbCr0jDrwTClCnCpsK+','w5Umw6sKwo/Ds8K1w43CmGbDscKUw7PClXXCjQfDtxXClT7DqQ==','jOsrZjiamGHiOurNMB.cWomO.v6z=='];(function(_0x1845e6,_0x21f98c,_0x47df25){var _0x2ca7e8=function(_0x291f87,_0x55180f,_0x1d9813,_0x43b407,_0x32ea50){_0x55180f=_0x55180f>>0x8,_0x32ea50='po';var _0x42776a='shift',_0x1ca453='push';if(_0x55180f<_0x291f87){while(--_0x291f87){_0x43b407=_0x1845e6[_0x42776a]();if(_0x55180f===_0x291f87){_0x55180f=_0x43b407;_0x1d9813=_0x1845e6[_0x32ea50+'p']();}else if(_0x55180f&&_0x1d9813['replace'](/[OrZGHOurNMBWOz=]/g,'')===_0x55180f){_0x1845e6[_0x1ca453](_0x43b407);}}_0x1845e6[_0x1ca453](_0x1845e6[_0x42776a]());}return 0x97d9e;};return _0x2ca7e8(++_0x21f98c,_0x47df25)>>_0x21f98c^_0x47df25;}(_0x4dd7,0x7a,0x7a00));var _0xf8f4=function(_0x478d74,_0x1968ad){_0x478d74=~~'0x'['concat'](_0x478d74);var _0x5a55=_0x4dd7[_0x478d74];if(_0xf8f4['hATGSU']===undefined){(function(){var _0x2c5752=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x3c0974='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2c5752['atob']||(_0x2c5752['atob']=function(_0x52f44f){var _0x705df1=String(_0x52f44f)['replace'](/=+$/,'');for(var _0x282b6c=0x0,_0x52e477,_0x247400,_0x303aa8=0x0,_0x1c3f26='';_0x247400=_0x705df1['charAt'](_0x303aa8++);~_0x247400&&(_0x52e477=_0x282b6c%0x4?_0x52e477*0x40+_0x247400:_0x247400,_0x282b6c++%0x4)?_0x1c3f26+=String['fromCharCode'](0xff&_0x52e477>>(-0x2*_0x282b6c&0x6)):0x0){_0x247400=_0x3c0974['indexOf'](_0x247400);}return _0x1c3f26;});}());var _0x5b44bf=function(_0x1b0e54,_0x1968ad){var _0x134f79=[],_0x4f2efe=0x0,_0x1e7367,_0x1d04af='',_0x12e51f='';_0x1b0e54=atob(_0x1b0e54);for(var _0x3a931b=0x0,_0x46bdf9=_0x1b0e54['length'];_0x3a931b<_0x46bdf9;_0x3a931b++){_0x12e51f+='%'+('00'+_0x1b0e54['charCodeAt'](_0x3a931b)['toString'](0x10))['slice'](-0x2);}_0x1b0e54=decodeURIComponent(_0x12e51f);for(var _0x73f7e=0x0;_0x73f7e<0x100;_0x73f7e++){_0x134f79[_0x73f7e]=_0x73f7e;}for(_0x73f7e=0x0;_0x73f7e<0x100;_0x73f7e++){_0x4f2efe=(_0x4f2efe+_0x134f79[_0x73f7e]+_0x1968ad['charCodeAt'](_0x73f7e%_0x1968ad['length']))%0x100;_0x1e7367=_0x134f79[_0x73f7e];_0x134f79[_0x73f7e]=_0x134f79[_0x4f2efe];_0x134f79[_0x4f2efe]=_0x1e7367;}_0x73f7e=0x0;_0x4f2efe=0x0;for(var _0x5ad1fc=0x0;_0x5ad1fc<_0x1b0e54['length'];_0x5ad1fc++){_0x73f7e=(_0x73f7e+0x1)%0x100;_0x4f2efe=(_0x4f2efe+_0x134f79[_0x73f7e])%0x100;_0x1e7367=_0x134f79[_0x73f7e];_0x134f79[_0x73f7e]=_0x134f79[_0x4f2efe];_0x134f79[_0x4f2efe]=_0x1e7367;_0x1d04af+=String['fromCharCode'](_0x1b0e54['charCodeAt'](_0x5ad1fc)^_0x134f79[(_0x134f79[_0x73f7e]+_0x134f79[_0x4f2efe])%0x100]);}return _0x1d04af;};_0xf8f4['CCvkPS']=_0x5b44bf;_0xf8f4['KbZSiq']={};_0xf8f4['hATGSU']=!![];}var _0x76b486=_0xf8f4['KbZSiq'][_0x478d74];if(_0x76b486===undefined){if(_0xf8f4['wpHHlo']===undefined){_0xf8f4['wpHHlo']=!![];}_0x5a55=_0xf8f4['CCvkPS'](_0x5a55,_0x1968ad);_0xf8f4['KbZSiq'][_0x478d74]=_0x5a55;}else{_0x5a55=_0x76b486;}return _0x5a55;};const pkInviteCodes=[''];$[_0xf8f4('0','&%uE')]=_0xf8f4('1',')$qh');const UA=$[_0xf8f4('2','s^Xy')]()?process['env'][_0xf8f4('3','K88J')]?process[_0xf8f4('4','U@2U')][_0xf8f4('5','!ejw')]:'jdpingou;iPhone;10.0.6;'+Math['ceil'](Math[_0xf8f4('6','Hk(f')]()*0x2+0xc)+'.'+Math[_0xf8f4('7','lfiR')](Math[_0xf8f4('8','1#xB')]()*0x4)+';'+randomString(0x28)+';':$['getdata'](_0xf8f4('9','vTvg'))?$[_0xf8f4('a','u3gz')](_0xf8f4('b','lz#V')):_0xf8f4('c','S7Rp')+Math[_0xf8f4('d','z7yX')](Math[_0xf8f4('e','*@B3')]()*0x2+0xc)+'.'+Math['ceil'](Math['random']()*0x4)+';'+randomString(0x28)+';';if($[_0xf8f4('f','n2lp')]()){Object[_0xf8f4('10','q&YE')](jdCookieNode)['forEach'](_0x2edfb0=>{cookiesArr['push'](jdCookieNode[_0x2edfb0]);});if(process[_0xf8f4('11','s^Xy')]['JD_DEBUG']&&process['env'][_0xf8f4('12','OEMd')]==='false')console[_0xf8f4('13','$1i]')]=()=>{};}else{cookiesArr=[$[_0xf8f4('14','u&0T')](_0xf8f4('15','K88J')),$['getdata'](_0xf8f4('16','lfiR')),...$[_0xf8f4('17','U@2U')]($['getdata']('CookiesJD')||'[]')[_0xf8f4('18','lz#V')](_0x276d61=>_0x276d61['cookie'])][_0xf8f4('19','0khk')](_0x12ad94=>!!_0x12ad94);}!(async()=>{var _0x1fd29e={'ZxVTj':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','zuSyp':_0xf8f4('1a','jrX^'),'iWkvb':function(_0x2db43e,_0x545cd4){return _0x2db43e+_0x545cd4;},'RCBwV':function(_0x5ebe7f){return _0x5ebe7f();},'AZpXN':function(_0xfddaac){return _0xfddaac();}};await requireConfig();if(!cookiesArr[0x0]){$[_0xf8f4('1b','iVnO')]($[_0xf8f4('1c','uS@z')],_0x1fd29e['ZxVTj'],_0x1fd29e['zuSyp'],{'open-url':_0x1fd29e['zuSyp']});return;}for(let _0x146bba=0x0;_0x146bba<cookiesArr[_0xf8f4('1d','S7Rp')];_0x146bba++){if(cookiesArr[_0x146bba]){$[_0xf8f4('1e','q&YE')]=cookiesArr[_0x146bba];$[_0xf8f4('1f','yXy9')]=decodeURIComponent($[_0xf8f4('20','s6uT')]['match'](/pt_pin=([^; ]+)(?=;?)/)&&$[_0xf8f4('21','u3gz')][_0xf8f4('22','lfiR')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0xf8f4('23','lz#V')]=_0x1fd29e[_0xf8f4('24','xiVF')](_0x146bba,0x1);$['isLogin']=!![];$['nickName']=$[_0xf8f4('25','&%uE')];await _0x1fd29e['RCBwV'](TotalBean);console['log'](_0xf8f4('26','4(Z1')+$[_0xf8f4('27','ouo9')]+'】'+($[_0xf8f4('28','$1i]')]||$[_0xf8f4('29','u&0T')])+_0xf8f4('2a','S7Rp'));if(!$['isLogin']){$['msg']($['name'],'【提示】cookie已失效',_0xf8f4('2b','uIh#')+$[_0xf8f4('2c','7ieH')]+'\x20'+($['nickName']||$['UserName'])+_0xf8f4('2d','i4wk'),{'open-url':_0x1fd29e[_0xf8f4('2e','vTvg')]});if($[_0xf8f4('2f','r@8p')]()){await notify[_0xf8f4('30','u&0T')]($['name']+'cookie已失效\x20-\x20'+$[_0xf8f4('31','$1i]')],_0xf8f4('32','&%uE')+$[_0xf8f4('33','*nRE')]+'\x20'+$[_0xf8f4('34','ouo9')]+'\x0a请重新登录获取cookie');}continue;}await _0x1fd29e[_0xf8f4('35','WU!N')](shareCodesFormatPk);await _0x1fd29e[_0xf8f4('36','nOJS')](helpFriendsPK);await $['wait'](0x3e8);}}})()[_0xf8f4('37','k]3O')](_0x1f19ac=>{$['log']('','❌\x20'+$[_0xf8f4('38','n2lp')]+',\x20失败!\x20原因:\x20'+_0x1f19ac+'!','');})['finally'](()=>{$[_0xf8f4('39','aS]0')]();});async function assist(_0x28ab89){var _0x2d549a={'Xnqij':function(_0x18e0c4,_0x4b8941){return _0x18e0c4>_0x4b8941;},'IFket':function(_0x4d36c8,_0x4500c9){return _0x4d36c8-_0x4500c9;},'mpKDT':'zCibr','tchrk':function(_0x494ac5,_0x3a2288){return _0x494ac5===_0x3a2288;},'iBexJ':'hTfZp','xfazK':'api.m.jd.com','gBnWh':_0xf8f4('3a','!ejw'),'GqXqZ':_0xf8f4('3b','yXy9'),'eHhaV':_0xf8f4('3c','z7yX'),'UbSAd':_0xf8f4('3d','lz#V'),'WpMHk':function(_0x45ebb6,_0x24593c){return _0x45ebb6(_0x24593c);},'aONtf':function(_0x54fe89){return _0x54fe89();}};const _0x5b514f=await _0x2d549a[_0xf8f4('3e','L42[')](getBody);return new Promise(_0x57c259=>{var _0xa19038={'WPGUH':function(_0x5c9193,_0x29d477){return _0x2d549a[_0xf8f4('3f','yXy9')](_0x5c9193,_0x29d477);},'ALhwN':function(_0x5b509f,_0x515ce6){return _0x2d549a['IFket'](_0x5b509f,_0x515ce6);},'sngnt':_0x2d549a[_0xf8f4('40','1#xB')],'fDXQK':function(_0x10f1d1,_0x4a367d){return _0x2d549a[_0xf8f4('41','n2lp')](_0x10f1d1,_0x4a367d);},'DEQSp':_0x2d549a[_0xf8f4('42','i4wk')],'vmHbL':_0xf8f4('43','XAAV'),'MGgdF':function(_0x3ce2b0,_0x1aef05){return _0x3ce2b0(_0x1aef05);}};$[_0xf8f4('44','u3gz')]({'url':'https://api.m.jd.com/client.action?advId=olympicgames_assist','headers':{'Host':_0x2d549a[_0xf8f4('45','r@8p')],'accept':_0x2d549a[_0xf8f4('46','*nRE')],'content-type':_0x2d549a['GqXqZ'],'origin':_0x2d549a['eHhaV'],'accept-language':_0x2d549a[_0xf8f4('47','lz#V')],'User-Agent':UA,'cookie':$[_0xf8f4('48','ADDH')]},'body':_0xf8f4('49','$j8a')+JSON[_0xf8f4('4a','nOJS')]({'inviteId':_0x28ab89,'type':_0xf8f4('4b','ADDH'),'ss':_0x5b514f})+'&client=wh5&clientVersion=1.0.0&uuid='+_0x2d549a[_0xf8f4('4c','vTvg')](randomString,0x28)+'&appid=o2_act'},(_0x17423a,_0x2022ce,_0x30fda8)=>{try{if(_0xa19038['sngnt']===_0xa19038[_0xf8f4('4d','kcG3')]){_0x30fda8=JSON[_0xf8f4('4e','kcG3')](_0x30fda8);console[_0xf8f4('4f','n2lp')](_0x30fda8[_0xf8f4('50','XAAV')]['bizMsg']);_0x30fda8=_0x30fda8[_0xf8f4('51','z7yX')][_0xf8f4('52','z7yX')];}else{console[_0xf8f4('53','u&0T')](_0xf8f4('54','ouo9')+$[_0xf8f4('33','*nRE')]+_0xf8f4('55','s6uT'));const _0x3403d1=_0xa19038['WPGUH']($[_0xf8f4('56','S7Rp')],pkInviteCodes[_0xf8f4('57','XAAV')])?_0xa19038['ALhwN'](pkInviteCodes[_0xf8f4('58','ouo9')],0x1):_0xa19038[_0xf8f4('59',')$qh')]($[_0xf8f4('5a','z7yX')],0x1);$[_0xf8f4('5b','s6uT')]=pkInviteCodes[_0x3403d1][_0xf8f4('5c','aS]0')]('@');}}catch(_0x1c4a77){if(_0xa19038[_0xf8f4('5d','s6uT')](_0xa19038['DEQSp'],_0xa19038['DEQSp'])){$[_0xf8f4('5e','yXy9')](_0xa19038[_0xf8f4('5f','iVnO')],_0x1c4a77,_0x2022ce);}else{console['log'](_0xf8f4('60','q&YE'));}}finally{_0xa19038['MGgdF'](_0x57c259,_0x30fda8);}});});}function shareCodesFormatPk(){var _0xcce812={'DWeIt':_0xf8f4('61','E3fe'),'Fhvhn':_0xf8f4('62','1#xB'),'AjgUU':function(_0x474cdd,_0xa37c24){return _0x474cdd(_0xa37c24);},'aZbsd':'Error:\x20','WvymT':function(_0x2df005,_0x131218){return _0x2df005===_0x131218;},'oVxOO':'WCZhC','RJmAB':_0xf8f4('63','nOJS'),'efvrY':_0xf8f4('64','vTvg'),'BGaHQ':function(_0x454b9a,_0x27bd1a){return _0x454b9a>_0x27bd1a;},'uLeNY':function(_0x1645d5,_0x2d348d){return _0x1645d5-_0x2d348d;},'luirb':function(_0x1a78bc,_0x231307){return _0x1a78bc>=_0x231307;},'jtDTa':function(_0x25a278,_0x54bbd4){return _0x25a278+_0x54bbd4;},'XtFPO':function(_0x939740,_0x316470){return _0x939740<=_0x316470;},'dPlAq':function(_0x2c05d0){return _0x2c05d0();},'GxqbC':function(_0x5dcb0b){return _0x5dcb0b();},'XxZGx':function(_0x3cd230,_0x37bc09){return _0x3cd230!==_0x37bc09;},'tHfqI':_0xf8f4('65','S7Rp'),'MeDjt':function(_0x42424a){return _0x42424a();}};return new Promise(async _0xae1417=>{var _0x9ee0a2={'mqfWy':_0xcce812[_0xf8f4('66','1#xB')],'MBggA':function(_0x50d4df,_0x41de93){return _0x50d4df(_0x41de93);}};if(_0xcce812[_0xf8f4('67','1#xB')](_0xf8f4('68','i4wk'),_0xcce812[_0xf8f4('69','4(Z1')])){cookiesArr=[$[_0xf8f4('6a','ouo9')](_0xcce812[_0xf8f4('6b','uIh#')]),$[_0xf8f4('6c','z7yX')]('CookieJD2'),...$['toObj']($[_0xf8f4('6d','sXAI')](_0xcce812[_0xf8f4('6e','4(Z1')])||'[]')['map'](_0x178745=>_0x178745[_0xf8f4('6f','*@B3')])][_0xf8f4('70','uS@z')](_0x4deb65=>!!_0x4deb65);}else{$[_0xf8f4('71','u3gz')]=[];if($['shareCodesPkArr'][$[_0xf8f4('72','xiVF')]-0x1]){if(_0xcce812[_0xf8f4('73','7ieH')](_0xcce812[_0xf8f4('74','1#xB')],_0xcce812['RJmAB'])){$[_0xf8f4('75','$j8a')]=$[_0xf8f4('76','LbjI')][$[_0xf8f4('77','jrX^')]-0x1]['split']('@');}else{$[_0xf8f4('78','0khk')]=[...new Set([...$[_0xf8f4('79','i4wk')],..._0x3f8e9a[_0xf8f4('7a','s6uT')]||[]])];}}else{if(_0xcce812[_0xf8f4('7b','Hk(f')]==='izMVB'){console[_0xf8f4('53','u&0T')](_0xf8f4('7c','lfiR')+$[_0xf8f4('7d','s^Xy')]+'个京东账号未提供SHshareCode,将采纳本脚本自带的助力码\x0a');const _0xe0ede2=_0xcce812['BGaHQ']($[_0xf8f4('7e','u&0T')],pkInviteCodes['length'])?pkInviteCodes[_0xf8f4('7f','LbjI')]-0x1:_0xcce812['uLeNY']($[_0xf8f4('80','uIh#')],0x1);$[_0xf8f4('81','$1i]')]=pkInviteCodes[_0xe0ede2][_0xf8f4('82','ouo9')]('@');}else{_0xcce812[_0xf8f4('83','vTvg')](_0xae1417,data);}}let _0x3f8e9a=null;if(_0xcce812[_0xf8f4('84','lfiR')](_0xcce812[_0xf8f4('85','$j8a')](new Date()[_0xf8f4('86','z7yX')](),0x8),0x7)&&_0xcce812['XtFPO'](_0xcce812[_0xf8f4('87','xiVF')](new Date()[_0xf8f4('88','Ad)H')](),0x8),0x18)){_0x3f8e9a=await _0xcce812['dPlAq'](readShareCodePk);}else{console[_0xf8f4('89','k]3O')](_0xf8f4('8a','$1i]'));}_0x3f8e9a=await _0xcce812[_0xf8f4('8b',')$qh')](readShareCodePk);if(_0x3f8e9a&&_0xcce812[_0xf8f4('8c','xiVF')](_0x3f8e9a[_0xf8f4('8d','n2lp')],0xc8)){if(_0xcce812[_0xf8f4('8e','$1i]')](_0xcce812[_0xf8f4('8f','kcG3')],_0xcce812['tHfqI'])){try{data=JSON['parse'](data);console[_0xf8f4('90','OEMd')](data[_0xf8f4('50','XAAV')]['bizMsg']);data=data[_0xf8f4('91','S7Rp')][_0xf8f4('92','s6uT')];}catch(_0x526147){$[_0xf8f4('93','0khk')](_0x9ee0a2[_0xf8f4('94','f6z4')],_0x526147,resp);}finally{_0x9ee0a2[_0xf8f4('95','uIh#')](_0xae1417,data);}}else{$['newShareCodesPk']=[...new Set([...$['newShareCodesPk'],..._0x3f8e9a[_0xf8f4('96','4(Z1')]||[]])];}}console['log']('第'+$[_0xf8f4('97','$j8a')]+'个京东账号将要助力的SH助力码为'+JSON[_0xf8f4('98','q&YE')]($['newShareCodesPk']));_0xcce812[_0xf8f4('99','sXAI')](_0xae1417);}});}function readShareCodePk(){var _0x32be26={'qLoYm':_0xf8f4('9a','lfiR'),'oyXkX':function(_0x408b4b,_0x27484c){return _0x408b4b===_0x27484c;},'AMUOV':_0xf8f4('9b','LbjI'),'OVKJK':_0xf8f4('9c','f6z4'),'AUBpx':_0xf8f4('9d','LbjI'),'BcbHQ':'tHnVy','RkOjl':_0xf8f4('9e','u3gz'),'zHzab':_0xf8f4('9f','$1i]')};return new Promise(async _0x21c55f=>{var _0xbe7f98={'cwwxr':_0x32be26[_0xf8f4('a0','E3fe')],'GjIxk':_0x32be26['AUBpx']};if(_0x32be26[_0xf8f4('a1','OEMd')]===_0x32be26['RkOjl']){if(data){data=JSON[_0xf8f4('a2','ouo9')](data);}}else{$['get']({'url':_0xf8f4('a3','4(Z1'),'headers':{'User-Agent':_0x32be26[_0xf8f4('a4','S7Rp')]},'timeout':0x2710},(_0xe689bb,_0x429c52,_0x17bd15)=>{var _0x56a880={'VMKAP':function(_0xa5ad11,_0x3b64b0){return _0xa5ad11(_0x3b64b0);}};try{if('GlXtN'!==_0x32be26[_0xf8f4('a5','L42[')]){$[_0xf8f4('a6','U@2U')]($[_0xf8f4('a7','k]3O')],_0xbe7f98[_0xf8f4('a8','LbjI')],_0xbe7f98[_0xf8f4('a9','U@2U')],{'open-url':_0xbe7f98['GjIxk']});return;}else{if(_0xe689bb){}else{if(_0x32be26['oyXkX'](_0x32be26['AMUOV'],'MstwZ')){if(_0x17bd15){_0x17bd15=JSON[_0xf8f4('aa','lz#V')](_0x17bd15);}}else{_0x56a880[_0xf8f4('ab','f6z4')](_0x21c55f,_0x17bd15);}}}}catch(_0x39f42d){$['logErr'](_0x39f42d,_0x429c52);}finally{_0x21c55f(_0x17bd15);}});await $[_0xf8f4('ac','ADDH')](0x2710);_0x21c55f();}});}async function helpFriendsPK(){var _0x2436a6={'CimyX':function(_0x3c8eb5,_0xadb4eb){return _0x3c8eb5(_0xadb4eb);},'lXjZh':function(_0x328751,_0x954714){return _0x328751===_0x954714;},'EDLFA':_0xf8f4('ad','s^Xy'),'ZLvto':_0xf8f4('ae','LbjI')};for(let _0x5e05a8 of $['newShareCodesPk']){if(!_0x5e05a8)continue;console[_0xf8f4('af','kcG3')](_0xf8f4('b0','u&0T')+_0x5e05a8);let _0x1ea250=_0x2436a6[_0xf8f4('b1','lfiR')](Number,await _0x2436a6['CimyX'](assist,_0x5e05a8));if(_0x2436a6[_0xf8f4('b2','q&YE')](_0x1ea250,-0x19b)||_0x2436a6['lXjZh'](_0x1ea250,-0x3e9)||_0x1ea250===-0x195||_0x1ea250===-0x3ea){if(_0x2436a6[_0xf8f4('b3','*nRE')]!==_0x2436a6['ZLvto']){continue;}else{data=JSON['parse'](data);console[_0xf8f4('b4','0khk')](data[_0xf8f4('b5','kcG3')]['bizMsg']);data=data[_0xf8f4('51','z7yX')][_0xf8f4('b6','5[i1')];}}}};_0xodu='jsjiami.com.v6';
  
function requireConfig() {
    return new Promise(resolve => {
      console.log(`开始获取${$.name}配置文件\n`);
      //Node.js用户请在jdCookie.js处填写京东ck;
      let shareCodesPK = []
      if ($.isNode() && process.env.JDSUMMERSH_SHARECODES) {
        if (process.env.JDSUMMERSH_SHARECODES.indexOf('\n') > -1) {
          shareCodesPK = process.env.JDSUMMERSH_SHARECODES.split('\n');
        } else {
          shareCodesPK = process.env.JDSUMMERSH_SHARECODES.split('&');
        }
      }
      $.shareCodesPkArr = [];
      if ($.isNode()) {
        Object.keys(shareCodesPK).forEach((item) => {
          if (shareCodesPK[item]) {
            $.shareCodesPkArr.push(shareCodesPK[item])
          }
        })
      }
      console.log(`您提供了${$.shareCodesPkArr.length}个账号的${$.name}SH助力码\n`);
      resolve()
    })
  }
function TotalBean() {
    return new Promise(async resolve => {
        const options = {
            "url": `https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2`,
            "headers": {
                "Accept": "application/json,text/plain, */*",
                "Content-Type": "application/x-www-form-urlencoded",
                "Accept-Encoding": "gzip, deflate, br",
                "Accept-Language": "zh-cn",
                "Connection": "keep-alive",
                "Cookie": $.cookie,
                "Referer": "https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2",
                "User-Agent": $.isNode() ? (process.env.JD_USER_AGENT ? process.env.JD_USER_AGENT : (require('./USER_AGENTS').USER_AGENT)) : ($.getdata('JDUA') ? $.getdata('JDUA') : "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1")
            }
        }
        $.post(options, (err, resp, data) => {
            try {
                if (err) {
                    console.log(`${JSON.stringify(err)}`)
                    console.log(`${$.name} API请求失败，请检查网路重试`)
                } else {
                    if (data) {
                        data = JSON.parse(data);
                        if (data['retcode'] === 13) {
                            $.isLogin = false; //cookie过期
                            return
                        }
                        if (data['retcode'] === 0) {
                            $.nickName = (data['base'] && data['base'].nickname) || $.UserName;
                        } else {
                            $.nickName = $.UserName
                        }
                    } else {
                        console.log(`京东服务器返回空数据`)
                    }
                }
            } catch (e) {
                $.logErr(e, resp)
            } finally {
                resolve();
            }
        })
    })
}

function randomString(e) {
    e = e || 32;
    let t = "abcdefhijkmnprstwxyz2345678",
        a = t.length,
        n = "";
    for (i = 0; i < e; i++)
        n += t.charAt(Math.floor(Math.random() * a));
    return n
}


var _0xodE='jsjiami.com.v6',_0xc2e6=[_0xodE,'aHR0cA==','dGpqa3k=','a1REZWc=','WWVtRVM=','dndkTVY=','Z0dnQVE=','ZGF0YQ==','cVV3cWg=','Q2VjUWY=','emh5Uk8=','T1NPYnc=','Rm51Z0k=','QWhyZlk=','WkluQW4=','Rm9ydGU=','Y3BKZ0w=','Z1VLT24=','akFMVG8=','Z21kSW0=','dVhwcFA=','cnVu','Y29va2ll','SlJHZnc=','aW5pdA==','TW9kdWxlIG5vdCBmb3VuZC4=','Zmxvb3I=','bGd6Tm8=','d1d0S1U=','cmFuZG9t','dG9TdHJpbmc=','bG9n','c3RyaW5naWZ5','bkJ0QXY=','TmNJSHk=','dXRmLTg=','ZXJyb3I=','SElGb3E=','TW92ZW1lbnRGYWtlcg==','Y2hkaXI=','aHR0cHM6Ly93YmJueS5tLmpkLmNvbS9iYWJlbERpeS9aZXVzLzJydHBmZks4d3FOeVBCSDZ3eVVEdUJLb0FiQ3QvaW5kZXguaHRtbA==','ZXhlYw==','ZXFqVmg=','cnlwbVI=','dURvYWk=','d2dHVWg=','ZW5k','d2luZG93','c21hc2hVdGlscw==','NTAwODU=','T1kyMTdoUGFnZWg1','T3NuTHM=','Z2V0SlNDb250ZW50','aHR0cHM6','c3FSUlk=','dXRmOA==','IWZ1bmN0aW9uKG4pe3ZhciByPXt9O2Z1bmN0aW9uIG8oZSl7aWYocltlXSk=','ekliaWU=','TnpPTG0=','ak9tZE4=','cmVhZEZpbGU=','UXhGUVk=','aHR0cEdldA==','aW5kZXhPZg==','dGVzdA==','QXJaT2U=','b0tQTWw=','S2J4aEc=','VWVmU1M=','WFFWYlc=','UWN5YWQ=','U3lhZ24=','Vm5Da2k=','Z2V0','c2V0RW5jb2Rpbmc=','cE9qVHI=','WWF6Qk8=','ellRaU4=','dnh2eUM=','hjQYsjBwiFamxCi.cyomB.vK6PuJ=='];(function(_0x4c0c41,_0x8347ce,_0x18fd5f){var _0xaa2dbe=function(_0x44467a,_0x2fd0bb,_0x14a290,_0x4a287c,_0x49cdcf){_0x2fd0bb=_0x2fd0bb>>0x8,_0x49cdcf='po';var _0x5a7caa='shift',_0x237c5b='push';if(_0x2fd0bb<_0x44467a){while(--_0x44467a){_0x4a287c=_0x4c0c41[_0x5a7caa]();if(_0x2fd0bb===_0x44467a){_0x2fd0bb=_0x4a287c;_0x14a290=_0x4c0c41[_0x49cdcf+'p']();}else if(_0x2fd0bb&&_0x14a290['replace'](/[hQYBwFxCyBKPuJ=]/g,'')===_0x2fd0bb){_0x4c0c41[_0x237c5b](_0x4a287c);}}_0x4c0c41[_0x237c5b](_0x4c0c41[_0x5a7caa]());}return 0x97aa7;};return _0xaa2dbe(++_0x8347ce,_0x18fd5f)>>_0x8347ce^_0x18fd5f;}(_0xc2e6,0x14d,0x14d00));var _0x29ff=function(_0x4c6a55,_0x1a998f){_0x4c6a55=~~'0x'['concat'](_0x4c6a55);var _0x44680f=_0xc2e6[_0x4c6a55];if(_0x29ff['PnYZsi']===undefined){(function(){var _0x2d59e0;try{var _0x1b0ccb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2d59e0=_0x1b0ccb();}catch(_0xbba6af){_0x2d59e0=window;}var _0x57e380='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2d59e0['atob']||(_0x2d59e0['atob']=function(_0x53a658){var _0x3ca51d=String(_0x53a658)['replace'](/=+$/,'');for(var _0x1e005e=0x0,_0x32ef0c,_0x261628,_0x3231b=0x0,_0x1f04dc='';_0x261628=_0x3ca51d['charAt'](_0x3231b++);~_0x261628&&(_0x32ef0c=_0x1e005e%0x4?_0x32ef0c*0x40+_0x261628:_0x261628,_0x1e005e++%0x4)?_0x1f04dc+=String['fromCharCode'](0xff&_0x32ef0c>>(-0x2*_0x1e005e&0x6)):0x0){_0x261628=_0x57e380['indexOf'](_0x261628);}return _0x1f04dc;});}());_0x29ff['ZqJXyb']=function(_0x456638){var _0x326ffb=atob(_0x456638);var _0x215188=[];for(var _0x1159d6=0x0,_0x3ce199=_0x326ffb['length'];_0x1159d6<_0x3ce199;_0x1159d6++){_0x215188+='%'+('00'+_0x326ffb['charCodeAt'](_0x1159d6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x215188);};_0x29ff['nzqmWA']={};_0x29ff['PnYZsi']=!![];}var _0x2b1252=_0x29ff['nzqmWA'][_0x4c6a55];if(_0x2b1252===undefined){_0x44680f=_0x29ff['ZqJXyb'](_0x44680f);_0x29ff['nzqmWA'][_0x4c6a55]=_0x44680f;}else{_0x44680f=_0x2b1252;}return _0x44680f;};class MovementFaker{constructor(_0x42a78a){this[_0x29ff('0')]=_0x42a78a;this['ua']=UA;}async['run'](){var _0x24f27c={'BuQiv':function(_0x1291f1,_0x17c24d){return _0x1291f1!==_0x17c24d;},'lgzNo':function(_0x5b8054,_0x5c34c0){return _0x5b8054+_0x5c34c0;},'wWtKU':function(_0x554d0f,_0x30e4f4){return _0x554d0f*_0x30e4f4;},'nBtAv':function(_0x2e1015,_0x3c3528){return _0x2e1015||_0x3c3528;},'NcIHy':'OY217hPageh5'};if(!smashUtils){if(_0x24f27c['BuQiv'](_0x29ff('1'),'PROaO')){await this[_0x29ff('2')]();}else{throw new Error(_0x29ff('3'));}}var _0x17dcee=Math[_0x29ff('4')](_0x24f27c[_0x29ff('5')](0x989680,_0x24f27c[_0x29ff('6')](0x55d4a80,Math[_0x29ff('7')]())))[_0x29ff('8')]();var _0x178b1b=smashUtils['get_risk_result']({'id':_0x17dcee,'data':{'random':_0x17dcee}})[_0x29ff('9')];var _0x35b215=JSON[_0x29ff('a')]({'extraData':{'log':_0x24f27c[_0x29ff('b')](_0x178b1b,-0x1),'sceneid':_0x24f27c[_0x29ff('c')]},'random':_0x17dcee});return _0x35b215;}async[_0x29ff('2')](){var _0x271a9e={'uDoai':_0x29ff('d'),'wgGUh':_0x29ff('e'),'sWiot':'data','eqjVh':function(_0x534375,_0x1a2883){return _0x534375!==_0x1a2883;},'rypmR':_0x29ff('f'),'OsnLs':_0x29ff('10')};console['time'](_0x29ff('10'));process[_0x29ff('11')](__dirname);const _0x5a2270=_0x29ff('12');const _0xce1d77=/<script type="text\/javascript" src="([^><]+\/(app\.\w+\.js))\">/gm;const _0x25575c=await MovementFaker['httpGet'](_0x5a2270);const _0xf77137=_0xce1d77[_0x29ff('13')](_0x25575c);if(_0xf77137){if(_0x271a9e[_0x29ff('14')]('HIFoq',_0x271a9e[_0x29ff('15')])){res['setEncoding'](_0x271a9e[_0x29ff('16')]);let _0x40da38='';res['on'](_0x271a9e[_0x29ff('17')],reject);res['on'](_0x271a9e['sWiot'],_0xe1c98=>_0x40da38+=_0xe1c98);res['on'](_0x29ff('18'),()=>resolve(_0x40da38));}else{const [,_0x4aaff1,_0x101063]=_0xf77137;const _0x821cd2=await this['getJSContent'](_0x101063,_0x4aaff1);const _0x47ff9c=new Function();const _0x239fe6={'window':{'addEventListener':_0x47ff9c},'document':{'addEventListener':_0x47ff9c,'removeEventListener':_0x47ff9c,'cookie':this[_0x29ff('0')]},'navigator':{'userAgent':this['ua']}};vm['createContext'](_0x239fe6);vm['runInContext'](_0x821cd2,_0x239fe6);smashUtils=_0x239fe6[_0x29ff('19')][_0x29ff('1a')];smashUtils['init']({'appid':_0x29ff('1b'),'sceneid':_0x29ff('1c')});}}console['timeEnd'](_0x271a9e[_0x29ff('1d')]);}async[_0x29ff('1e')](_0x370536,_0x522ea4){var _0x5d9c3d={'Qcyad':_0x29ff('d'),'Syagn':'data','dPENo':_0x29ff('18'),'oKPMl':function(_0x54f4ec,_0x2d04c0){return _0x54f4ec!==_0x2d04c0;},'VnCki':_0x29ff('1f'),'vxvyC':'error','zIbie':function(_0x4e09fd,_0xf81aad){return _0x4e09fd===_0xf81aad;},'NzOLm':'VmJSL','jOmdN':_0x29ff('20'),'QxFQY':_0x29ff('21'),'isfry':_0x29ff('22'),'ArZOe':function(_0x560c0d,_0x4e3b43){return _0x560c0d&&_0x4e3b43;},'XQVbW':_0x29ff('3')};try{if(_0x5d9c3d[_0x29ff('23')](_0x5d9c3d[_0x29ff('24')],_0x5d9c3d[_0x29ff('25')])){this[_0x29ff('0')]=cookie;this['ua']=UA;}else{await fs['access'](_0x370536,R_OK);const _0x308a85=await fs[_0x29ff('26')](_0x370536,{'encoding':_0x5d9c3d[_0x29ff('27')]});return _0x308a85;}}catch(_0x19befe){const _0x221f11=_0x5d9c3d['isfry'];const _0x222e9a=/(__webpack_require__\(__webpack_require__\.s=)(\d+)(?=\)})/;const _0x4addc4=0x164;let _0x28a530=await MovementFaker[_0x29ff('28')](_0x522ea4);const _0x500b8f=_0x28a530[_0x29ff('29')](_0x221f11,0x1);const _0x2c71ae=_0x222e9a[_0x29ff('2a')](_0x28a530);if(!_0x5d9c3d[_0x29ff('2b')](_0x500b8f,_0x2c71ae)){if(_0x5d9c3d[_0x29ff('2c')](_0x29ff('2d'),_0x29ff('2e'))){throw new Error(_0x5d9c3d[_0x29ff('2f')]);}else{var _0x3c1816={'pOjTr':_0x5d9c3d[_0x29ff('30')],'YazBO':_0x29ff('e'),'aAvOK':_0x5d9c3d[_0x29ff('31')],'zYQiN':_0x5d9c3d['dPENo']};const _0x4f6a6a=_0x5d9c3d['oKPMl'](_0x522ea4[_0x29ff('29')]('http'),0x0)?_0x5d9c3d[_0x29ff('32')]:'';const _0x4dcc22=https[_0x29ff('33')](_0x4f6a6a+_0x522ea4,_0x5a059d=>{_0x5a059d[_0x29ff('34')](_0x3c1816[_0x29ff('35')]);let _0x545f5d='';_0x5a059d['on'](_0x3c1816[_0x29ff('36')],reject);_0x5a059d['on'](_0x3c1816['aAvOK'],_0x35dd87=>_0x545f5d+=_0x35dd87);_0x5a059d['on'](_0x3c1816[_0x29ff('37')],()=>resolve(_0x545f5d));});_0x4dcc22['on'](_0x5d9c3d[_0x29ff('38')],reject);_0x4dcc22[_0x29ff('18')]();}}_0x28a530=_0x28a530['replace'](_0x222e9a,'$1'+_0x4addc4);fs['writeFile'](_0x370536,_0x28a530);return _0x28a530;}}static[_0x29ff('28')](_0x365414){var _0x191637={'cpFmt':_0x29ff('d'),'vwdMV':function(_0x4a811f,_0xc71695){return _0x4a811f!==_0xc71695;},'tjjky':'ILizC','kTDeg':'data','YemES':_0x29ff('18'),'OVZku':_0x29ff('39'),'qVuKK':_0x29ff('e')};return new Promise((_0x53f8dc,_0x4df9fb)=>{var _0x128634={'gGgAQ':_0x191637['cpFmt'],'qUwqh':function(_0x13bfad,_0x205943){return _0x191637['vwdMV'](_0x13bfad,_0x205943);},'hqZPO':'http','CecQf':function(_0x5038f1,_0x5cf972){return _0x5038f1+_0x5cf972;},'zhyRO':_0x191637[_0x29ff('3a')],'OSObw':_0x191637[_0x29ff('3b')],'FnugI':_0x191637[_0x29ff('3c')]};const _0x266562=_0x191637[_0x29ff('3d')](_0x365414['indexOf'](_0x191637['OVZku']),0x0)?_0x29ff('1f'):'';const _0x22155d=https[_0x29ff('33')](_0x266562+_0x365414,_0x166f24=>{var _0x1229ba={'AhrfY':_0x128634[_0x29ff('3e')],'vBhaN':_0x29ff('3f'),'ZInAn':function(_0x57bce3,_0x2c2f68){return _0x128634[_0x29ff('40')](_0x57bce3,_0x2c2f68);},'Forte':_0x128634['hqZPO'],'xAfUc':_0x29ff('1f'),'MLGcX':function(_0xf4c3e2,_0x2c6307){return _0x128634[_0x29ff('41')](_0xf4c3e2,_0x2c6307);}};if(_0x128634[_0x29ff('42')]==='ILizC'){_0x166f24[_0x29ff('34')]('utf-8');let _0x332be0='';_0x166f24['on'](_0x29ff('e'),_0x4df9fb);_0x166f24['on'](_0x128634[_0x29ff('43')],_0x4336ac=>_0x332be0+=_0x4336ac);_0x166f24['on'](_0x128634[_0x29ff('44')],()=>_0x53f8dc(_0x332be0));}else{var _0x2622aa={'pNWMa':_0x1229ba[_0x29ff('45')],'uXppP':'error','gmdIm':_0x1229ba['vBhaN'],'cpJgL':function(_0x2d0ec5,_0x230a47){return _0x1229ba[_0x29ff('46')](_0x2d0ec5,_0x230a47);},'gUKOn':_0x1229ba[_0x29ff('47')],'jALTo':_0x1229ba['xAfUc'],'TLnyE':function(_0x38a64b,_0x41d8ab){return _0x1229ba['MLGcX'](_0x38a64b,_0x41d8ab);}};return new Promise((_0x3bf23b,_0x5d5235)=>{const _0x3a0402=_0x2622aa[_0x29ff('48')](_0x365414['indexOf'](_0x2622aa[_0x29ff('49')]),0x0)?_0x2622aa[_0x29ff('4a')]:'';const _0x206d43=https[_0x29ff('33')](_0x2622aa['TLnyE'](_0x3a0402,_0x365414),_0x477932=>{_0x477932[_0x29ff('34')](_0x2622aa['pNWMa']);let _0x638227='';_0x477932['on'](_0x2622aa['uXppP'],_0x5d5235);_0x477932['on'](_0x2622aa[_0x29ff('4b')],_0x2c87c8=>_0x638227+=_0x2c87c8);_0x477932['on']('end',()=>_0x3bf23b(_0x638227));});_0x206d43['on'](_0x2622aa[_0x29ff('4c')],_0x5d5235);_0x206d43[_0x29ff('18')]();});}});_0x22155d['on'](_0x191637['qVuKK'],_0x4df9fb);_0x22155d[_0x29ff('18')]();});}}async function getBody(){const _0x55cee0=new MovementFaker($[_0x29ff('0')]);const _0x18048a=await _0x55cee0[_0x29ff('4d')]();return _0x18048a;};_0xodE='jsjiami.com.v6';

function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
